<style>
    .curiosidades-content {
        overflow: hidden;
        position: relative;
        display: flex;
        flex-direction: column;
        align-items: center;
    }

    .curiosidades-cards-container {
        position: relative;
        height: 100vh;
        width: 100%;
        overflow-y: auto;
        display: flex;
        flex-direction: column;
        align-items: center;
        background-size: cover;
        background-position: center;
    }

    .curiosidades-efplayer {
        position: relative;
        width: 80%;
        height: auto;
        margin-bottom: 50px;
    }

    @media (min-width: 768px) {
        .curiosidades-efplayer {
            width: 40%;
        }

        .curiosidades-cards-container {
            background-image: url('images/bg_desk_informacoes.jpg');
        }
    }

    @media (max-width: 767px) {
        .curiosidades-cards-container {
            background-image: url('images/bg_mob_informacoes.jpg');
        }
    }
</style>

<div id="curiosidades-section" class="curiosidades-content active">
    <div class="curiosidades-cards-container">
        <div class="curiosidades-efplayer" id="image-wrapper1"></div>
        <div class="curiosidades-efplayer" id="image-wrapper2"></div>
        <div class="curiosidades-efplayer" id="image-wrapper3"></div>
        <div class="curiosidades-efplayer" id="image-wrapper4"></div>
        <div class="curiosidades-efplayer" id="image-wrapper5"></div>
        <div class="curiosidades-efplayer" id="image-wrapper6"></div>
        <div class="curiosidades-efplayer" id="image-wrapper7"></div>
        <div class="curiosidades-efplayer" id="image-wrapper8"></div>
        <div class="curiosidades-efplayer" id="image-wrapper9"></div>
        <div class="curiosidades-efplayer" id="image-wrapper10"></div>
        <div class="curiosidades-efplayer" id="image-wrapper11"></div>
        <div class="curiosidades-efplayer" id="image-wrapper12"></div>
        <div class="curiosidades-efplayer" id="image-wrapper13"></div>
        <div class="curiosidades-efplayer" id="image-wrapper14"></div>
        <div class="curiosidades-efplayer" id="image-wrapper15"></div>
        <div class="curiosidades-efplayer" id="image-wrapper16"></div>
        <div class="curiosidades-efplayer" id="image-wrapper17"></div>
        <div class="curiosidades-efplayer" id="image-wrapper18"></div>
        <div class="curiosidades-efplayer" id="image-wrapper19"></div>
        <div class="curiosidades-efplayer" id="image-wrapper20"></div>
        <div class="curiosidades-efplayer" id="image-wrapper21"></div>
        <div class="curiosidades-efplayer" id="image-wrapper22"></div>
    </div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.10.4/gsap.min.js"></script>

<script>

document.addEventListener('DOMContentLoaded', () => {
        const container = document.querySelector('.curiosidades-cards-container');
        const players = document.querySelectorAll('.curiosidades-efplayer');

        const imageUrlsDesktop = [
            'images/fake-asset.png',    
            'images/inspiracoes.png',
            'images/01-noticia.png',
            'images/02-noticia.png',
            'images/03-noticia.png',
            'images/04-noticia.png',
            'images/05-noticia.png',
            'images/fake-asset.png',
            'images/curiosidades.png',
            'images/curiosidade01-d.png',
            'images/curiosidade02-d.png',
            'images/curiosidade03-d.png',
            'images/curiosidade04-d.png',
            'images/curiosidade05-d.png',
            'images/curiosidade06-d.png',
            'images/curiosidade07-d.png',
            'images/curiosidade08-d.png',
            'images/curiosidade09-d.png',
            'images/curiosidade10-d.png',
            'images/curiosidade11-d.png',
            'images/curiosidade12-d.png',
            'images/fake-asset.png'
        ];

        const imageUrlsMobile = [
            'images/fake-asset.png',    
            'images/inspiracoes.png',    
            'images/01-noticia-mob.png',
            'images/02-noticia-mob.png',
            'images/03-noticia-mob.png',
            'images/04-noticia-mob.png',
            'images/05-noticia-mob.png',
            'images/fake-asset.png',
            'images/curiosidades.png',
            'images/curiosidade01-d.png',
            'images/curiosidade02-d.png',
            'images/curiosidade03-d.png',
            'images/curiosidade04-d.png',
            'images/curiosidade05-d.png',
            'images/curiosidade06-d.png',
            'images/curiosidade07-d.png',
            'images/curiosidade08-d.png',
            'images/curiosidade09-d.png',
            'images/curiosidade10-d.png',
            'images/curiosidade11-d.png',
            'images/curiosidade12-d.png',
            'images/fake-asset.png'
        ];

        function isMobile() {
            return window.innerWidth < 768;
        }

        function loadImages() {
            players.forEach((player, index) => {
                const img = document.createElement('img');
                img.src = isMobile() ? imageUrlsMobile[index] : imageUrlsDesktop[index];
                img.style.width = '100%';
                img.style.height = 'auto';
                img.loading = 'lazy'; // Lazy loading
                player.appendChild(img);
            });
        }

        function updatePlayerStyles() {
            const containerHeight = container.clientHeight;

            players.forEach((player) => {
                const rect = player.getBoundingClientRect();
                const playerCenter = rect.top + rect.height / 2;
                const containerCenter = containerHeight / 2;

                const distanceFromCenter = Math.abs(containerCenter - playerCenter);
                const scale = Math.max(0.5, 1 - distanceFromCenter / containerCenter);
                const zIndex = Math.round(scale * 100);
                const opacity = scale > 0.5 ? 1 : 0;

                gsap.to(player, {
                    scale: scale,
                    zIndex: zIndex,
                    opacity: opacity,
                    duration: 0.5
                });
            });
        }

        loadImages();
        container.addEventListener('scroll', updatePlayerStyles);
        window.addEventListener('resize', () => {
            players.forEach(player => player.innerHTML = '');
            loadImages();
            updatePlayerStyles();
        });
        updatePlayerStyles();
    });

</script>
